process CastorTest  = {
	service = MessageLogger
	{
      	untracked vstring destinations = {"warning.txt","error.txt","info.txt","debugmessages.txt"}

      	untracked vstring categories = {  "ForwardSim", "CaloSim"}
	untracked vstring debugModules = { "*" }
	untracked PSet error.txt         = {string threshold = "ERROR"  }
	untracked PSet warning.txt       = {string threshold = "WARNING"}
	untracked PSet info.txt          = {string threshold = "INFO"  }
      	untracked PSet debugmessages.txt = {string threshold = "DEBUG"
					PSet INFO     = { int32 limit = 0 }
					PSet DEBUG    = { int32 limit = 0 }
					PSet CaloSim  = { int32 limit = 1000000 }
					PSet ForwardSim = { int32 limit = 1000000 }
				}
   	}
	service = RandomNumberGeneratorService
	{
      	untracked uint32 sourceSeed = 135799753
      	PSet moduleSeeds =
      		{
        	 untracked uint32 VtxSmeared = 123456789
	         untracked uint32 SimG4Object = 9876
      		}
   	}

	include "SimGeneral/HepPDTESSource/data/pdt.cfi"
	source = FlatRandomEGunSource { 
		untracked int32 maxEvents = 5 
		untracked PSet PGunParameters = {
			untracked vint32 PartID = {211,211,211,11,11} 
			untracked double MinEta = 6.1991
			untracked double MaxEta = 6.1991
			untracked double MinPhi =-3.14159265358979323846
			untracked double MaxPhi = 3.14159265358979323846
			untracked double MinE   = 49.99
			untracked double MaxE   = 50.01
		}
		untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
	}

        # Vtx Smearing
        include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"

	#Geometry
        include "SimG4CMS/Forward/test/data/castorGeometryXML.cfi"

	#Magnetic Field
	include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

	module o1 = PoolOutputModule {untracked string fileName ="simevent.root"} 
        include "SimG4Core/Application/data/g4SimHits.cfi"
	replace g4SimHits.UseMagneticField = false
	replace g4SimHits.Physics.DefaultCutValue = 10.
	replace g4SimHits.Generator.MinEtaCut = -9.0
	replace g4SimHits.Generator.MaxEtaCut =  9.0
	path p1 = { VtxSmeared, g4SimHits }
	endpath outpath = { o1 }

	service = Timing {}
	service = Tracer {}
}		
