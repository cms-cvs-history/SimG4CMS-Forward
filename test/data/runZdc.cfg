process ZdcTest  = {
        service = MessageLogger
        { 
	        untracked vstring destinations = {"cout"}
		untracked PSet cout = { untracked PSet default = { untracked int32 limit = 0 }}

        }
        service = RandomNumberGeneratorService
        {
        untracked uint32 sourceSeed = 135799753
        PSet moduleSeeds =
                {
                 untracked uint32 VtxSmeared = 123456789
	         untracked uint32 SimG4Object = 9876
		 untracked uint32 g4SimHits = 123345
                }
        }

	include "SimGeneral/HepPDTESSource/data/pdt.cfi"
    	source = FlatRandomEGunSource { 
		untracked PSet PGunParameters = {
			untracked vint32 PartID = {2112, 2112} 
			untracked double MinEta = 7.0
			untracked double MaxEta = 7.0
			untracked double MinPhi =-3.14159265358979323846
			untracked double MaxPhi = 3.14159265358979323846
			untracked double MinE   = 99.99
			untracked double MaxE   = 100.01




		}
		untracked int32 Verbosity = 0	
	}

	untracked PSet maxEvents = {untracked int32 input = 10}	

        # Vtx Smearing
        include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"

 	#Geometry
        include "SimG4CMS/Forward/test/data/zdcGeometryXML.cfi"

	#Magnetic Field
	#include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

        module o1 = PoolOutputModule {untracked string fileName ="simevent.root"}

        include "SimG4Core/Application/data/g4SimHits.cfi"
	replace g4SimHits.UseMagneticField = false
	replace g4SimHits.Physics.DefaultCutValue = 10.
	replace g4SimHits.Generator.MinEtaCut = -9.0
	replace g4SimHits.Generator.MaxEtaCut =  9.0
	replace g4SimHits.Watchers = {
			{string type            = "ZdcTestAnalysis"
	 		PSet ZdcTestAnalysis = {
				int32 Verbosity     = 0
				int32 StepNtupleFlag =0 
				int32 EventNtupleFlag = 1
	        	        string StepNtupleFileName =  "stepNtuple.root"
				string EventNtupleFileName = "eventNtuple.root"
		   	}
               }}

	path p1 = { VtxSmeared, g4SimHits }
        endpath outpath = { o1 }	
}		
